<launch>
  <include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" value="$(find mav_gazebo)/worlds/basic.world"/>
    <!-- <arg name="debug" value="true" /> -->
  </include>

  <include file="$(find mav_gazebo)/launch/firefly_msf.launch" />

  <include file="$(find mav_gazebo)/launch/spawn_firefly.launch" />

  <!--node name="gazebo_pose_publisher" pkg="mav_gazebo" type="gazebo_pose_publisher" args="firefly /fcu/current_pose"/-->

  <node name="polynomial_sampling_node_new" pkg="mav_planning_utils" type="polynomial_sampling_node_new"/>

  <node name="ros_controller_node" pkg="mav_control" type="ros_controller_node" output="screen">
    <remap from="ekf_state" to="/msf_core/state_out" />
    <remap from="imu" to="/firefly/imu" />
    <remap from="command/trajectory" to="/fcu/control_new" />
    <remap from="mav_cmd_motor" to="/firefly/mav_cmd_motor" />
  </node>

</launch>
